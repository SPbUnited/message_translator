from .minifloat import float_to_minifloat, minifloat_to_float

data_1_4_3 = [
    0,
    0.001953125,
    0.00390625,
    0.005859375,
    0.0078125,
    0.009765625,
    0.01171875,
    0.013671875,
    0.015625,
    0.017578125,
    0.01953125,
    0.021484375,
    0.0234375,
    0.025390625,
    0.02734375,
    0.029296875,
    0.03125,
    0.03515625,
    0.0390625,
    0.04296875,
    0.046875,
    0.05078125,
    0.0546875,
    0.05859375,
    0.0625,
    0.0703125,
    0.078125,
    0.0859375,
    0.09375,
    0.1015625,
    0.109375,
    0.1171875,
    0.125,
    0.140625,
    0.15625,
    0.171875,
    0.1875,
    0.203125,
    0.21875,
    0.234375,
    0.25,
    0.28125,
    0.3125,
    0.34375,
    0.375,
    0.40625,
    0.4375,
    0.46875,
    0.5,
    0.5625,
    0.625,
    0.6875,
    0.75,
    0.8125,
    0.875,
    0.9375,
    1,
    1.125,
    1.25,
    1.375,
    1.5,
    1.625,
    1.75,
    1.875,
    2,
    2.25,
    2.5,
    2.75,
    3,
    3.25,
    3.5,
    3.75,
    4,
    4.5,
    5,
    5.5,
    6,
    6.5,
    7,
    7.5,
    8,
    9,
    10,
    11,
    12,
    13,
    14,
    15,
    16,
    18,
    20,
    22,
    24,
    26,
    28,
    30,
    32,
    36,
    40,
    44,
    48,
    52,
    56,
    60,
    64,
    72,
    80,
    88,
    96,
    104,
    112,
    120,
    128,
    144,
    160,
    176,
    192,
    208,
    224,
    240,
    256,
    288,
    320,
    352,
    384,
    416,
    448,
    480,
    -0,
    -0.001953125,
    -0.00390625,
    -0.005859375,
    -0.0078125,
    -0.009765625,
    -0.01171875,
    -0.013671875,
    -0.015625,
    -0.017578125,
    -0.01953125,
    -0.021484375,
    -0.0234375,
    -0.025390625,
    -0.02734375,
    -0.029296875,
    -0.03125,
    -0.03515625,
    -0.0390625,
    -0.04296875,
    -0.046875,
    -0.05078125,
    -0.0546875,
    -0.05859375,
    -0.0625,
    -0.0703125,
    -0.078125,
    -0.0859375,
    -0.09375,
    -0.1015625,
    -0.109375,
    -0.1171875,
    -0.125,
    -0.140625,
    -0.15625,
    -0.171875,
    -0.1875,
    -0.203125,
    -0.21875,
    -0.234375,
    -0.25,
    -0.28125,
    -0.3125,
    -0.34375,
    -0.375,
    -0.40625,
    -0.4375,
    -0.46875,
    -0.5,
    -0.5625,
    -0.625,
    -0.6875,
    -0.75,
    -0.8125,
    -0.875,
    -0.9375,
    -1,
    -1.125,
    -1.25,
    -1.375,
    -1.5,
    -1.625,
    -1.75,
    -1.875,
    -2,
    -2.25,
    -2.5,
    -2.75,
    -3,
    -3.25,
    -3.5,
    -3.75,
    -4,
    -4.5,
    -5,
    -5.5,
    -6,
    -6.5,
    -7,
    -7.5,
    -8,
    -9,
    -10,
    -11,
    -12,
    -13,
    -14,
    -15,
    -16,
    -18,
    -20,
    -22,
    -24,
    -26,
    -28,
    -30,
    -32,
    -36,
    -40,
    -44,
    -48,
    -52,
    -56,
    -60,
    -64,
    -72,
    -80,
    -88,
    -96,
    -104,
    -112,
    -120,
    -128,
    -144,
    -160,
    -176,
    -192,
    -208,
    -224,
    -240,
    -256,
    -288,
    -320,
    -352,
    -384,
    -416,
    -448,
    -480,
]

data_1_3_4 = [
    0,
    0.015625,
    0.03125,
    0.046875,
    0.0625,
    0.078125,
    0.09375,
    0.109375,
    0.125,
    0.140625,
    0.15625,
    0.171875,
    0.1875,
    0.203125,
    0.21875,
    0.234375,
    0.25,
    0.265625,
    0.28125,
    0.296875,
    0.3125,
    0.328125,
    0.34375,
    0.359375,
    0.375,
    0.390625,
    0.40625,
    0.421875,
    0.4375,
    0.453125,
    0.46875,
    0.484375,
    0.5,
    0.53125,
    0.5625,
    0.59375,
    0.625,
    0.65625,
    0.6875,
    0.71875,
    0.75,
    0.78125,
    0.8125,
    0.84375,
    0.875,
    0.90625,
    0.9375,
    0.96875,
    1,
    1.0625,
    1.125,
    1.1875,
    1.25,
    1.3125,
    1.375,
    1.4375,
    1.5,
    1.5625,
    1.625,
    1.6875,
    1.75,
    1.8125,
    1.875,
    1.9375,
    2,
    2.125,
    2.25,
    2.375,
    2.5,
    2.625,
    2.75,
    2.875,
    3,
    3.125,
    3.25,
    3.375,
    3.5,
    3.625,
    3.75,
    3.875,
    4,
    4.25,
    4.5,
    4.75,
    5,
    5.25,
    5.5,
    5.75,
    6,
    6.25,
    6.5,
    6.75,
    7,
    7.25,
    7.5,
    7.75,
    8,
    8.5,
    9,
    9.5,
    10,
    10.5,
    11,
    11.5,
    12,
    12.5,
    13,
    13.5,
    14,
    14.5,
    15,
    15.5,
    16,
    17,
    18,
    19,
    20,
    21,
    22,
    23,
    24,
    25,
    26,
    27,
    28,
    29,
    30,
    31,
    -0,
    -0.015625,
    -0.03125,
    -0.046875,
    -0.0625,
    -0.078125,
    -0.09375,
    -0.109375,
    -0.125,
    -0.140625,
    -0.15625,
    -0.171875,
    -0.1875,
    -0.203125,
    -0.21875,
    -0.234375,
    -0.25,
    -0.265625,
    -0.28125,
    -0.296875,
    -0.3125,
    -0.328125,
    -0.34375,
    -0.359375,
    -0.375,
    -0.390625,
    -0.40625,
    -0.421875,
    -0.4375,
    -0.453125,
    -0.46875,
    -0.484375,
    -0.5,
    -0.53125,
    -0.5625,
    -0.59375,
    -0.625,
    -0.65625,
    -0.6875,
    -0.71875,
    -0.75,
    -0.78125,
    -0.8125,
    -0.84375,
    -0.875,
    -0.90625,
    -0.9375,
    -0.96875,
    -1,
    -1.0625,
    -1.125,
    -1.1875,
    -1.25,
    -1.3125,
    -1.375,
    -1.4375,
    -1.5,
    -1.5625,
    -1.625,
    -1.6875,
    -1.75,
    -1.8125,
    -1.875,
    -1.9375,
    -2,
    -2.125,
    -2.25,
    -2.375,
    -2.5,
    -2.625,
    -2.75,
    -2.875,
    -3,
    -3.125,
    -3.25,
    -3.375,
    -3.5,
    -3.625,
    -3.75,
    -3.875,
    -4,
    -4.25,
    -4.5,
    -4.75,
    -5,
    -5.25,
    -5.5,
    -5.75,
    -6,
    -6.25,
    -6.5,
    -6.75,
    -7,
    -7.25,
    -7.5,
    -7.75,
    -8,
    -8.5,
    -9,
    -9.5,
    -10,
    -10.5,
    -11,
    -11.5,
    -12,
    -12.5,
    -13,
    -13.5,
    -14,
    -14.5,
    -15,
    -15.5,
    -16,
    -17,
    -18,
    -19,
    -20,
    -21,
    -22,
    -23,
    -24,
    -25,
    -26,
    -27,
    -28,
    -29,
    -30,
    -31,
]


def test_minifloat_1_4_3():
    for num in data_1_4_3:
        (sign, exp, mantissa) = float_to_minifloat(num, 4, 3)
        assert minifloat_to_float(sign, exp, mantissa, 4, 3) == num


def test_minifloat_1_3_4():
    for num in data_1_3_4:
        (sign, exp, mantissa) = float_to_minifloat(num, 3, 4)
        assert minifloat_to_float(sign, exp, mantissa, 3, 4) == num


def test_minifloat_1_3_3():
    for num in data_1_3_4[::2]:
        (sign, exp, mantissa) = float_to_minifloat(num, 3, 3)
        assert minifloat_to_float(sign, exp, mantissa, 3, 3) == num
